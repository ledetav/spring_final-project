(function(){var e={484:function(){document.addEventListener("DOMContentLoaded",(function(){const e=["name","gender","neutered","breed","purebred","weight","age"];e.forEach((function(e,t){var a="";document.getElementById(e).addEventListener("click",(function(e){e.preventDefault();const t=document.querySelectorAll(".filter__link.filter__link--active");t.forEach(function(e){e!==this&&e.classList.remove("filter__link--active")}.bind(this)),this.classList.toggle("filter__link--active");const r=document.querySelectorAll(".filter__link");r.forEach((function(e){e.classList.remove("asc","desc")})),"desc"===a||""===a?(this.classList.add("asc"),a="asc"):(this.classList.add("desc"),a="desc");const i=this.closest(".header__item"),d=Array.from(document.querySelectorAll(".header__item")).indexOf(i),n=document.querySelector(".table-content"),s=Array.from(n.querySelectorAll(".table-row")),l=this.classList.contains("filter__link--active"),o=this.classList.contains("filter__link--float-number");this.classList.contains("filter__link--age");return s.sort((function(e,t){let a=e.querySelector(".table-data").eq(d).textContent,r=t.querySelector(".table-data").eq(d).textContent;return o?l?a-r:r-a:l?a<r?-1:a>r?1:0:a>r?-1:a<r?1:0})),s.forEach((function(e){n.appendChild(e)})),!1}))}))}))},39:function(e,t,a){"use strict";var r=a(751),i=a(641);function d(e,t){const a=(0,i.g2)("router-link"),r=(0,i.g2)("router-view");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.Lk)("nav",null,[(0,i.bF)(a,{to:"/"},{default:(0,i.k6)((()=>[(0,i.eW)("Коты и кошки питомника")])),_:1}),(0,i.eW)(" | "),(0,i.bF)(a,{to:"/breeds"},{default:(0,i.k6)((()=>[(0,i.eW)("Породы кошек")])),_:1})]),(0,i.bF)(r)],64)}var n=a(262);const s={},l=(0,n.A)(s,[["render",d]]);var o=l,c=a(220);const u={class:"home-page"},f={class:"main-content"},v={class:"table-container"},h={class:"form-container"};function b(e,t,a,r,d,n){const s=(0,i.g2)("CatsTable"),l=(0,i.g2)("CatForm");return(0,i.uX)(),(0,i.CE)("div",u,[(0,i.Lk)("main",f,[(0,i.Lk)("div",v,[(0,i.bF)(s,{ref:"catsTable",onEditCat:n.selectCatForEdit},null,8,["onEditCat"])]),(0,i.Lk)("div",h,[(0,i.bF)(l,{cat:d.selectedCat,isEditing:d.isEditing,onSaved:n.fetchCats},null,8,["cat","isEditing","onSaved"])])])])}var m=a(33);const p=e=>((0,i.Qi)("data-v-5ac1da99"),e=e(),(0,i.jt)(),e),k={class:"form-group"},_=p((()=>(0,i.Lk)("label",{for:"name"},"Имя",-1))),L={class:"form-group"},g=p((()=>(0,i.Lk)("label",null,"Пол",-1))),C={style:{display:"flex","justify-content":"space-evenly"}},y=p((()=>(0,i.Lk)("label",{for:"male"},"Самец",-1))),E=p((()=>(0,i.Lk)("label",{for:"female"},"Самка",-1))),B={class:"form-group"},A=p((()=>(0,i.Lk)("label",{for:"neutered"},"Кастрирован/стерилизован",-1))),w={class:"form-group"},S=p((()=>(0,i.Lk)("label",{for:"breed"},"Порода",-1))),F=p((()=>(0,i.Lk)("option",{value:"",disabled:"disabled",selected:"selected"},"Выберите породу",-1))),O=["value"],x={class:"form-group"},j=p((()=>(0,i.Lk)("label",{for:"purebred"},"Чистокровен",-1))),D={class:"form-group"},X=p((()=>(0,i.Lk)("label",{for:"weight"},"Вес (кг)",-1))),$={class:"form-group"},q=p((()=>(0,i.Lk)("label",{for:"birthDate"},"Дата рождения",-1))),T={type:"submit",class:"button"};function I(e,t,a,d,n,s){return(0,i.uX)(),(0,i.CE)("form",{class:"form",onSubmit:t[8]||(t[8]=(0,r.D$)(((...e)=>s.handleSubmit&&s.handleSubmit(...e)),["prevent"]))},[(0,i.Lk)("div",k,[_,(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.formCat.name=e),id:"name",type:"text",required:""},null,512),[[r.Jo,n.formCat.name]])]),(0,i.Lk)("div",L,[g,(0,i.Lk)("div",C,[(0,i.Lk)("div",null,[(0,i.bo)((0,i.Lk)("input",{type:"radio",id:"male",value:"male","onUpdate:modelValue":t[1]||(t[1]=e=>n.formCat.gender=e)},null,512),[[r.XL,n.formCat.gender]]),y]),(0,i.Lk)("div",null,[(0,i.bo)((0,i.Lk)("input",{type:"radio",id:"female",value:"female","onUpdate:modelValue":t[2]||(t[2]=e=>n.formCat.gender=e)},null,512),[[r.XL,n.formCat.gender]]),E])])]),(0,i.Lk)("div",B,[(0,i.Lk)("div",null,[A,(0,i.bo)((0,i.Lk)("input",{type:"checkbox",id:"neutered","onUpdate:modelValue":t[3]||(t[3]=e=>n.formCat.neutered=e)},null,512),[[r.lH,n.formCat.neutered]])])]),(0,i.Lk)("div",w,[S,(0,i.bo)((0,i.Lk)("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>n.formCat.breed=e),id:"breed",required:""},[F,((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.breeds,(e=>((0,i.uX)(),(0,i.CE)("option",{key:e.id,value:e},(0,m.v_)(e.name),9,O)))),128))],512),[[r.u1,n.formCat.breed]])]),(0,i.Lk)("div",x,[(0,i.Lk)("div",null,[j,(0,i.bo)((0,i.Lk)("input",{type:"checkbox",id:"purebred","onUpdate:modelValue":t[5]||(t[5]=e=>n.formCat.purebred=e)},null,512),[[r.lH,n.formCat.purebred]])])]),(0,i.Lk)("div",D,[X,(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>n.formCat.weight=e),id:"weight",type:"number",step:"0.1",required:""},null,512),[[r.Jo,n.formCat.weight]])]),(0,i.Lk)("div",$,[q,(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>n.formCat.birthDate=e),id:"birthDate",type:"date",required:""},null,512),[[r.Jo,n.formCat.birthDate]])]),(0,i.Lk)("button",T,(0,m.v_)(a.isEditing?"Сохранить изменения":"Добавить кота"),1)],32)}var U=a(250),V={props:{cat:{type:Object,default:()=>({name:"",gender:"male",neutered:!1,breed:{},purebred:!1,weight:0,birthDate:""})},isEditing:{type:Boolean,default:!1}},data(){return{formCat:{...this.cat,breed:this.cat?.breed||{}},breeds:[]}},watch:{cat:{immediate:!0,handler(e){this.formCat={...e}}}},created(){this.fetchBreeds()},methods:{fetchBreeds(){U.A.get("/api/breeds").then((e=>{this.breeds=e.data}))},handleSubmit(){const e=this.isEditing?`/api/cats/${this.formCat.id}`:"/api/cats",t=this.isEditing?"put":"post";(0,U.A)({method:t,url:e,data:this.formCat}).then((()=>{this.$emit("saved"),this.formCat={...this.catDefault}})).catch((e=>{console.error("Error:",e)}))}}};const M=(0,n.A)(V,[["render",I],["__scopeId","data-v-5ac1da99"]]);var J=M;const K=e=>((0,i.Qi)("data-v-80e08202"),e=e(),(0,i.jt)(),e),P={class:"container"},Q={class:"cats-table"},W=(0,i.Fv)('<div class="table-header" data-v-80e08202><div class="header__item" data-v-80e08202><a href="#" id="name" class="filter__link" data-v-80e08202>Имя</a></div><div class="header__item" data-v-80e08202><a href="#" id="gender" class="filter__link" data-v-80e08202>Пол</a></div><div class="header__item" data-v-80e08202><a href="#" id="neutered" class="filter__link" data-v-80e08202>Кастрация</a></div><div class="header__item" data-v-80e08202><a href="#" id="breed" class="filter__link" data-v-80e08202>Порода</a></div><div class="header__item" data-v-80e08202><a href="#" id="purebred" class="filter__link" data-v-80e08202>Чистокровен</a></div><div class="header__item" data-v-80e08202><a href="#" id="weight" class="filter__link filter__link--float-number" data-v-80e08202>Вес</a></div><div class="header__item" data-v-80e08202><a href="#" id="age" class="filter__link filter__link--age" data-v-80e08202>Возраст</a></div><div class="header__item" data-v-80e08202><a href="#" id="actions" class="header__actions" data-v-80e08202>Действия</a></div></div>',1),H={class:"table-content"},Y={class:"table-data"},R={class:"table-data"},z={class:"table-data"},G={class:"table-data"},N={class:"table-data"},Z={class:"table-data"},ee={class:"table-data"},te={class:"table-data"},ae=["onClick"],re=K((()=>(0,i.Lk)("i",{class:"fa-sharp fa-solid fa-pencil fa-xs"},null,-1))),ie=[re],de=["onClick"],ne=K((()=>(0,i.Lk)("i",{class:"fa-sharp fa-solid fa-trash fa-xs"},null,-1))),se=[ne];function le(e,t,a,r,d,n){return(0,i.uX)(),(0,i.CE)("div",P,[(0,i.Lk)("div",Q,[W,(0,i.Lk)("div",H,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(d.cats,(e=>((0,i.uX)(),(0,i.CE)("div",{class:"table-row",key:e.id},[(0,i.Lk)("div",Y,(0,m.v_)(e.name),1),(0,i.Lk)("div",R,(0,m.v_)("male"===e.gender?"Самец":"Самка"),1),(0,i.Lk)("div",z,(0,m.v_)(e.neutered?"Да":"Нет"),1),(0,i.Lk)("div",G,(0,m.v_)(e.breed.name),1),(0,i.Lk)("div",N,(0,m.v_)(e.purebred?"Да":"Нет"),1),(0,i.Lk)("div",Z,(0,m.v_)(e.weight),1),(0,i.Lk)("div",ee,(0,m.v_)(n.calculateAge(e.birthDate)),1),(0,i.Lk)("div",te,[(0,i.Lk)("button",{onClick:t=>n.editCat(e),class:"button"},ie,8,ae),(0,i.Lk)("button",{onClick:t=>n.deleteCat(e.id),class:"delete-button"},se,8,de)])])))),128))])])])}a(484);var oe={data(){return{cats:[]}},created(){this.fetchCats()},methods:{fetchCats(){U.A.get("/api/cats").then((e=>{this.cats=e.data}))},deleteCat(e){U.A.delete(`/api/cats/${e}`).then((()=>{this.fetchCats()}))},editCat(e){this.$emit("edit-cat",e)},calculateAge(e){const t=new Date,a=new Date(e);let r=t.getFullYear()-a.getFullYear(),i=t.getMonth()-a.getMonth();return i<0?(r--,i+=12):0===i&&t.getDate()<a.getDate()&&(r--,i=11),`${r} лет и ${i} месяцев`}}};const ce=(0,n.A)(oe,[["render",le],["__scopeId","data-v-80e08202"]]);var ue=ce,fe={components:{CatForm:J,CatsTable:ue},data(){return{selectedCat:null,isEditing:!1}},methods:{fetchCats(){this.$refs.catsTable.fetchCats()},selectCatForEdit(e){this.selectedCat=e,this.isEditing=!0}}};const ve=(0,n.A)(fe,[["render",b],["__scopeId","data-v-2a16d21e"]]);var he=ve;const be={class:"breeds-page"},me={class:"main-content"},pe={class:"table-container"},ke={class:"form-container"};function _e(e,t,a,r,d,n){const s=(0,i.g2)("BreedsTable"),l=(0,i.g2)("BreedForm");return(0,i.uX)(),(0,i.CE)("div",be,[(0,i.Lk)("main",me,[(0,i.Lk)("div",pe,[(0,i.bF)(s,{ref:"breedsTable"},null,512)]),(0,i.Lk)("div",ke,[(0,i.bF)(l,{onSaved:n.fetchBreeds},null,8,["onSaved"])])])])}const Le=e=>((0,i.Qi)("data-v-b0068106"),e=e(),(0,i.jt)(),e),ge={class:"form-group"},Ce=Le((()=>(0,i.Lk)("label",{for:"name"},"Название породы:",-1))),ye={type:"submit",class:"button"};function Ee(e,t,a,d,n,s){return(0,i.uX)(),(0,i.CE)("form",{class:"form",onSubmit:t[1]||(t[1]=(0,r.D$)(((...e)=>s.handleSubmit&&s.handleSubmit(...e)),["prevent"]))},[(0,i.Lk)("div",ge,[Ce,(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.localBreed.name=e),id:"name",type:"text",required:""},null,512),[[r.Jo,n.localBreed.name]])]),(0,i.Lk)("button",ye,(0,m.v_)(a.isEditing?"Сохранить изменения":"Добавить породу"),1)],32)}var Be={props:{breed:{type:Object,default:()=>({name:""})},isEditing:{type:Boolean,default:!1}},data(){return{localBreed:{...this.breed}}},watch:{breed(e){this.localBreed={...e}}},methods:{handleSubmit(){this.isEditing?U.A.put(`/api/breeds/${this.localBreed.id}`,this.localBreed).then((()=>{this.$emit("saved"),this.localBreed={}})):U.A.post("/api/breeds",this.localBreed).then((()=>{this.$emit("saved"),this.localBreed={}}))}}};const Ae=(0,n.A)(Be,[["render",Ee],["__scopeId","data-v-b0068106"]]);var we=Ae;const Se=e=>((0,i.Qi)("data-v-2295b2aa"),e=e(),(0,i.jt)(),e),Fe={class:"container"},Oe={class:"table"},xe=(0,i.Fv)('<div class="table-header" data-v-2295b2aa><div class="header__item" data-v-2295b2aa><a href="#" id="name" class="filter__link" data-v-2295b2aa>Название породы</a></div><div class="header__item" data-v-2295b2aa><a href="#" id="count_cats" class="filter__link" data-v-2295b2aa>Количество кошек</a></div><div class="header__item" data-v-2295b2aa><a href="#" id="actions" class="header__actions" data-v-2295b2aa>Действия</a></div></div>',1),je={class:"table-content"},De={class:"table-data"},Xe={class:"table-data"},$e={class:"table-data"},qe=["onClick"],Te=Se((()=>(0,i.Lk)("i",{class:"fa-sharp fa-solid fa-trash fa-xs"},null,-1))),Ie=[Te];function Ue(e,t,a,r,d,n){return(0,i.uX)(),(0,i.CE)("div",Fe,[(0,i.Lk)("div",Oe,[xe,(0,i.Lk)("div",je,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(d.breeds,(e=>((0,i.uX)(),(0,i.CE)("div",{class:"table-row",key:e.id},[(0,i.Lk)("div",De,(0,m.v_)(e.name),1),(0,i.Lk)("div",Xe,(0,m.v_)(e.catCount),1),(0,i.Lk)("div",$e,[(0,i.Lk)("button",{onClick:t=>n.deleteBreed(e.id),class:"delete-button"},Ie,8,qe)])])))),128))])])])}var Ve={data(){return{breeds:[]}},created(){this.fetchBreeds()},methods:{fetchBreeds(){U.A.get("/api/breeds").then((e=>{this.breeds=e.data,this.breeds.forEach((e=>{this.fetchCatsByBreed(e.id)}))}))},fetchCatsByBreed(e){U.A.get(`/api/breeds/${e}/cats`).then((t=>{const a=this.breeds.findIndex((t=>t.id===e));-1!==a&&(this.breeds[a].catCount=t.data.length)}))},deleteBreed(e){U.A.delete(`/api/breeds/${e}`).then((()=>{this.fetchBreeds()})).catch((e=>{console.error("Ошибка при удалении кошек породы:",e)}))}}};const Me=(0,n.A)(Ve,[["render",Ue],["__scopeId","data-v-2295b2aa"]]);var Je=Me,Ke={components:{BreedForm:we,BreedsTable:Je},methods:{fetchBreeds(){this.$refs.breedsTable.fetchBreeds()}}};const Pe=(0,n.A)(Ke,[["render",_e],["__scopeId","data-v-436f0c5e"]]);var Qe=Pe;const We=[{path:"/",component:he},{path:"/breeds",component:Qe}],He=(0,c.aE)({history:(0,c.LA)(),routes:We});var Ye=He;U.A.defaults.baseURL="http://localhost:8080/",(0,r.Ef)(o).use(Ye).mount("#app")}},t={};function a(r){var i=t[r];if(void 0!==i)return i.exports;var d=t[r]={exports:{}};return e[r](d,d.exports,a),d.exports}a.m=e,function(){var e=[];a.O=function(t,r,i,d){if(!r){var n=1/0;for(c=0;c<e.length;c++){r=e[c][0],i=e[c][1],d=e[c][2];for(var s=!0,l=0;l<r.length;l++)(!1&d||n>=d)&&Object.keys(a.O).every((function(e){return a.O[e](r[l])}))?r.splice(l--,1):(s=!1,d<n&&(n=d));if(s){e.splice(c--,1);var o=i();void 0!==o&&(t=o)}}return t}d=d||0;for(var c=e.length;c>0&&e[c-1][2]>d;c--)e[c]=e[c-1];e[c]=[r,i,d]}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var i,d,n=r[0],s=r[1],l=r[2],o=0;if(n.some((function(t){return 0!==e[t]}))){for(i in s)a.o(s,i)&&(a.m[i]=s[i]);if(l)var c=l(a)}for(t&&t(r);o<n.length;o++)d=n[o],a.o(e,d)&&e[d]&&e[d][0](),e[d]=0;return a.O(c)},r=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[504],(function(){return a(39)}));r=a.O(r)})();
//# sourceMappingURL=app.7b408691.js.map